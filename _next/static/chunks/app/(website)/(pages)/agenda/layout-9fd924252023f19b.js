(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{2287:function(e,t,s){Promise.resolve().then(s.bind(s,9e3)),Promise.resolve().then(s.bind(s,1964))},9e3:function(e,t,s){"use strict";s.d(t,{default:function(){return g}});var i=s(7437),l=s(2265),n=s(2779),r=s(539),a=s(7648),d=s(1002);let c=n.NB,o=n.pJ,x=e=>{let{children:t,session:s}=e,l=["R2","R0","R1","R3","S","end"],n=e=>e.replace(":","").replace(/(\d{2})(\d{2})/,"t$1$2"),[c,o]=((e,t)=>{function s(e){let t=l.indexOf(e);return l[t+1]}if(null===e){let e=l.indexOf(t);return[t,s(l[e])]}if(e){let t=e.sort((e,t)=>l.indexOf(e)>l.indexOf(t)?1:-1);return[t[0],s(t[t.length-1])]}return["",""]})(s.broadcast,s.room),x=n((0,r.Z)(s.start)),m=n((0,r.Z)(s.end)),u=["E","P","U","PD","S","K","L"].includes(s.type)&&s.zh.description.length>0;return(0,i.jsx)("div",{className:"z-10 p-2",style:{gridColumn:"".concat(c," / ").concat(o),gridRow:"".concat(x," / ").concat(m)},children:(0,i.jsx)(a.default,{href:u?"/agenda/".concat(s.id):"",scroll:!1,className:(0,d.cn)({"cursor-pointer":u,"pointer-events-none":!u}),children:(0,i.jsx)("div",{className:(0,d.cn)("flex h-full w-full rounded-lg border border-white border-opacity-50 p-4",(e=>{switch(e){case"K":case"E":case"P":case"U":case"PD":case"L":case"S":return"bg-[#ffffff] text-black hover:opacity-80 transition-opacity";case"Ev":return"bg-[#2c3142] text-white";default:return""}})(s.type)),children:t})})},s.id)};var m=e=>{var t;let{session:s}=e,l=s.speakers.map(e=>{let t=n.eY.find(t=>t.id===e);return t?t.zh.name:""}),a=[...s.tags.map(e=>{var t;return(null===(t=o.find(t=>t.id===e))||void 0===t?void 0:t.zh.name)||""}),(null===(t=c.find(e=>e.id===s.type))||void 0===t?void 0:t.zh.name)||""].filter(e=>""!==e);return(0,i.jsx)(x,{session:s,children:(0,i.jsxs)("div",{className:"relative w-full",children:["Ev"===s.type&&(0,i.jsx)("div",{className:"flex h-full w-full flex-col items-start justify-center md:items-center",children:(0,i.jsx)("h3",{className:"font-bold md:text-normal",children:s.zh.title})}),("K"===s.type||"L"===s.type)&&(0,i.jsxs)("div",{className:"flex h-full w-full flex-col items-start justify-between gap-4 md:items-center",children:[(0,i.jsxs)("div",{className:"flex-col items-center text-center",children:[(0,i.jsx)("h3",{className:"font-semibold md:text-normal",children:s.zh.title}),(0,i.jsx)("p",{className:"text-[14px]",children:l.join(" / ")})]}),(0,i.jsx)("div",{className:"",children:a.map(e=>(0,i.jsxs)("span",{className:"my-1 mr-1 rounded-xl bg-[#eceff7] p-1 text-xs text-black",children:["#",e]},e))})]}),("E"===s.type||"P"===s.type||"U"===s.type||"PD"===s.type||"S"===s.type)&&(0,i.jsxs)("div",{className:"flex h-full w-full flex-col items-start justify-between gap-4 md:items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"mb-2 font-semibold md:text-normal",children:s.zh.title}),(0,i.jsx)("p",{className:"text-[14px]",children:l.join(" / ")})]}),(0,i.jsxs)("div",{className:"flex w-full items-end justify-between",children:[(0,i.jsx)("div",{className:"flex flex-wrap",children:a.map(e=>(0,i.jsxs)("span",{className:"my-1 mr-1 rounded-xl bg-[#eceff7] p-1 text-xs text-black",children:["#",e]},e))}),(0,i.jsxs)("span",{className:"text-nowrap text-[12px] md:hidden",children:[s.broadcast?"all rooms":s.room," /"," ",((e,t)=>{let s=parseInt(e.split(":")[0]),i=parseInt(e.split(":")[1]);return(parseInt(t.split(":")[0])-s)*60+(parseInt(t.split(":")[1])-i)})((0,r.Z)(s.start),(0,r.Z)(s.end))," ","min"]})]})]})]})})};let u=e=>e.replace("t","").replace(/(\d{2})(\d{2})/,"$1:$2");function f(){let e=["R2","R0","R1","R3","S"],t=n.S1.sort((t,s)=>e.indexOf(t.id)-e.indexOf(s.id)),s=t.reduce((e,t)=>"".concat(e," [").concat(t.id,"] 1fr "),"[start] auto"),l=n.iG.map(e=>[e.start,e.end]).flat(1).filter(e=>null!==e).map(e=>new Date(e)).sort().map(e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Taipei"})).filter((e,t,s)=>s.indexOf(e)===t).map((e,t)=>({id:"t".concat(e.replace(":","")),index:t})),r=l.reduce((e,t)=>"".concat(e," [timeLine-").concat(t.id,"] 1px [").concat(t.id,"] minmax(40px, auto)"),"[start] auto [divider] auto");return(0,i.jsx)("div",{className:"lg:container lg:px-12",children:(0,i.jsxs)("div",{className:"mx-auto grid h-full text-white",style:{gridTemplateColumns:s,gridTemplateRows:r},children:[(0,i.jsx)("div",{className:"sticky top-[70px] z-20 border-b border-b-white border-opacity-30 bg-background py-2 text-center text-[24px] font-bold"}),t.map((t,s)=>(0,i.jsx)("div",{style:{gridColumn:t.id+" / "+function(t){let s=e.indexOf(t);return e[s+1]}(t.id),gridRow:"start / divider"},className:"sticky top-[70px] z-20 border-b border-b-white border-opacity-30 bg-background py-2 text-center text-[24px] font-bold",children:t.id},s)),(0,i.jsx)("div",{className:"h-[1px] w-full py-3",style:{gridColumn:"start / end",gridRow:"divider / t0830"}}),l.map(e=>(0,i.jsx)("div",{className:"flex h-full w-full translate-y-[1px] items-center pb-2 pr-6 text-white lg:pr-8 xl:pr-10",style:{gridColumn:"start / start",gridRow:"timeLine-".concat(e.id," / ").concat(e.id)},children:(0,i.jsx)("p",{children:u(e.id)})},e.id)),l.map(e=>(0,i.jsx)("div",{className:"flex h-full w-full translate-y-[1px] items-center pb-2 pl-16 text-white",style:{gridColumn:"start / end",gridRow:"timeLine-".concat(e.id," / ").concat(e.id)},children:(0,i.jsx)("hr",{className:"pointer-events-none w-full bg-white opacity-30"})},e.id)),n.iG.filter(e=>null!==e.start&&null!==e.end&&null!==e.id).map(e=>(0,i.jsx)(m,{session:e},e.id))]})})}function p(){let e=n.iG.filter((e,t)=>{let s=n.iG.findIndex(t=>t.start===e.start&&t.end===e.end&&t.zh.title===e.zh.title&&t.zh.description===e.zh.description);return console.log("session name",e.zh.title),console.log("session time",e.start,e.end),console.log(s,t),s===t}),t=e.map(e=>[e.start,e.end]).flat(1).filter(e=>null!==e).map(e=>new Date(e)).sort().map(e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Taipei"})).filter((e,t,s)=>s.indexOf(e)===t),s=e=>e.replace("t","").replace(/(\d{2})(\d{2})/,"$1:$2"),l=t.map(t=>{let i=s(t);return{text:i,sessions:e.filter(e=>null!==e.start&&null!==e.end&&null!==e.id).filter(e=>(0,r.Z)(e.start)===i)}});return(0,i.jsx)("div",{className:"text-white",children:(0,i.jsx)("div",{className:"mt-4",children:l.filter((e,t)=>e.sessions.length>0||0===t||t===l.length-1).map(e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex h-[1px] w-full items-center text-white drop-shadow-2xl",children:[(0,i.jsx)("p",{children:e.text}),(0,i.jsx)("hr",{className:"ml-3 w-full text-white/30"})]}),(0,i.jsx)("div",{className:"ml-16 flex flex-col",children:e.sessions.filter(e=>null!==e.start&&null!==e.end&&null!==e.id).map(e=>(0,i.jsx)(m,{session:e},e.id))})]},e.text))})})}var h=s(8890);let j=(0,l.createContext)(void 0),v=e=>{let{children:t}=e,[s,n]=(0,l.useState)(!1),[r,a]=(0,l.useState)(null);return(0,i.jsx)(j.Provider,{value:{sessionIsOpen:s,openSessionId:r,setSessionIsOpen:n,setOpenSessionId:a},children:t})},b=()=>{let e=(0,l.useContext)(j);if(!e)throw Error("useSession must be used within a SessionProvider");return e};function g(e){let{openSessionID:t,children:s}=e;return(0,i.jsx)(v,{children:(0,i.jsx)(w,{openSessionID:t,children:s})})}let w=e=>{let{openSessionID:t,children:s}=e,{sessionIsOpen:n,setOpenSessionId:r,setSessionIsOpen:a,openSessionId:d}=b();return(0,l.useEffect)(()=>{t&&r(t),t&&a(!0)},[t,r,a]),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("h1",{className:"text-h1-mobile text-white md:text-h1",children:"年會議程表"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"hidden min-[850px]:block",children:(0,i.jsx)(f,{})}),(0,i.jsx)("div",{className:"min-[850px]:hidden",children:(0,i.jsx)(p,{})})]}),s,n&&(0,i.jsx)(h.default,{openSessionId:d})]})}},1002:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var i=s(3335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.m6)(function(){for(var e,t,s=0,i="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=function e(t){var s,i,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(i=e(t[s]))&&(l&&(l+=" "),l+=i)}else for(i in t)t[i]&&(l&&(l+=" "),l+=i)}return l}(e))&&(i&&(i+=" "),i+=t);return i}(t))}}},function(e){e.O(0,[736,972,878,335,973,606,602,890,971,117,744],function(){return e(e.s=2287)}),_N_E=e.O()}]);